---
// src/components/BranchesGrid.astro
export interface Branch {
  city: string;
  title?: string;
  address?: string;
  phone?: string;
}
const { branches = [] } = Astro.props as { branches: Branch[] };
function cleanPhone(t?: string) { if (!t) return ''; return t.replace(/[^\d+]/g, ''); }
---
<section class="py-8">
  <div class="max-w-7xl mx-auto">
    <h2 class="mb-4 text-2xl md:text-4xl font-black tracking-tight text-center text-zinc-950">Nuestras sucursales</h2>
    <div class="flex flex-wrap justify-between gap-6">
      {branches.map((b) => (
        <div class="w-[280px] lg:w-[308px] max-w-[320px] bg-zinc-100 p-4 xl:p-6 pb-4 rounded-2xl transition border-2 border-white hover:border-zinc-200">
          <h3 class="text-xl md:text-2xl font-black text-zinc-950">{b.city}</h3>
          {b.title ? <p class="text-zinc-700 font-semibold">{b.title}</p> : null}
          {b.address ? <p class="text-zinc-600 mt-2">{b.address}</p> : null}
          {b.phone ? (
            <p class="mt-3">
              <a class="font-semibold" href={`tel:${cleanPhone(b.phone)}`}>{b.phone}</a>
            </p>
          ) : null}
        </div>
      ))}
    </div>
  </div>
</section>
